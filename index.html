<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SmartClaim AI</title>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>

    <button 
      id="chat-toggle-btn" 
      onclick="toggleChatbot()"
      style="
        position: fixed; 
        bottom: 20px; 
        right: 20px; 
        z-index: 10000; 
        width: 60px; 
        height: 60px; 
        border-radius: 50%; 
        background-color: #0F172A; /* Dark Blue */
        color: white; 
        border: none; 
        box-shadow: 0 4px 12px rgba(0,0,0,0.2); 
        cursor: pointer; 
        font-size: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: transform 0.2s;
      "
    >
      ðŸ’¬
    </button>

    <div 
      id="chat-window" 
      style="
        display: none; /* HIDDEN INITIALLY */
        position: fixed; 
        bottom: 90px; 
        right: 20px; 
        z-index: 9999; 
        width: 400px; 
        height: 600px; 
        background: white;
        box-shadow: 0 4px 20px rgba(0,0,0,0.2); 
        border-radius: 12px; 
        overflow: hidden;
        border: 1px solid #e2e8f0;
      "
    >
      <iframe 
        src="https://friendly-claim-bot.lovable.app" 
        width="100%" 
        height="100%" 
        frameborder="0"
      ></iframe>
    </div>

    <script>
      function toggleChatbot() {
        const chatWindow = document.getElementById('chat-window');
        const btn = document.getElementById('chat-toggle-btn');
        
        if (chatWindow.style.display === 'none') {
          chatWindow.style.display = 'block';
          btn.innerHTML = 'âœ•'; // Change icon to X
        } else {
          chatWindow.style.display = 'none';
          btn.innerHTML = 'ðŸ’¬'; // Change icon back to chat
        }
      }
    </script>
    </body>
</html>